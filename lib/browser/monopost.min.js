/*
 monopost
 Author: Jim Cowart (http://freshbrewedcode.com/jimcowart)
 License: Dual licensed MIT (http://www.opensource.org/licenses/mit-license) & GPL (http://www.opensource.org/licenses/gpl-license)
 Version 0.1.0
 */
(function(e,t){typeof define=="function"&&define.amd?define(["underscore","monologue","postal"],function(n,r,i){return t(n,e,r,i)}):e.machina=t(e._,e,e.Monologue,e.postal)})(this,function(e,t,n,r,i){n.prototype.goPostal=function(t,n){var i,s=t||r.configuration.DEFAULT_CHANNEL,o=n||"#",u=this.__postal__={};Object.prototype.toString.call(t)==="[object String]"||arguments.length===0?i=[{channel:s,topic:o}]:typeof t=="object"&&(i=e.reduce(t,function(e,t,n){return e.push({channel:t,topic:n}),e},[])),e.each(i,function(t){u[t.topic]=this.on(t.topic,function(n,i){var s=e.extend({},i,{channel:t.channel});r.publish(s)})},this)}})